<app-info-card [contentDivider]="true" [removeBorderBreakpoint]="breakpoint.Mobile">
  <ng-container ngProjectAs="[card-title]">
    <a
      class="transaction-details__back-link"
      app-button-back
      [routerLink]="['../']"
    ></a>
    Transaction details
  </ng-container>

  <ng-container
    ngProjectAs="[card-body]"
    *ngIf="transactionDetails$ | async as transactionDetails; else tablesLoading;"
  >
    <div class="transaction-details__hash">
      <p [appTypeface]="(isTablet$ | async) ? 'subheader' : 'header-4'">{{ transactionDetails.txhash }}</p>
    </div>

    <div class="transaction-details__divider"></div>

    <app-details-table class="transaction-details__details-table">
      <ng-template [appDetailsTableCellDef]="'Height'">
        <a
          class="transaction-details__block-link"
          [routerLink]="['/', blocksRoute, transactionDetails.height]"
        >
          {{ transactionDetails.height }}
        </a>
      </ng-template>

      <ng-template [appDetailsTableCellDef]="'Time'">
        {{ transactionDetails.timestamp | date:'yyyy.MM.dd, HH:mm:ss' }}
      </ng-template>
    </app-details-table>

    <div class="transaction-details__divider mod-wide"></div>

    <app-transaction-message
      class="transaction-details__message"
      [txMessage]="transactionDetails.tx.value.msg[0]"
    ></app-transaction-message>
  </ng-container>
</app-info-card>

<ng-template #tablesLoading>
  <ngx-skeleton-loader
    class="transaction-details__loading"
    count="6"
    [theme]="{
      height: '40px',
      width: '100%'
    }"
  ></ngx-skeleton-loader>
</ng-template>
